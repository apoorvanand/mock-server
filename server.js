const Hapi  = require('hapi');
const good = require('good');

// create a server with a host and port
const server = new Hapi.Server();
server.connection({
    host: 'localhost',
    port: process.env.PORT,
    routes: { cors: true } 
});

// Add the route
server.route({
    method: 'GET',
    path: '/',
    config: {
        cors: {
            origin: ['*'],
            additionalHeaders: ['cache-control', 'x-requested-with']
        }},
    handler: (request, reply) => {
        return reply({"results":[{"gender":"male","name":{"title":"mr","first":"deniz","last":"sözeri"},"location":{"street":"7259 filistin cd","city":"osmaniye","state":"edirne","postcode":29701},"email":"deniz.sözeri@example.com","login":{"username":"greenostrich689","password":"494949","salt":"rtYHIEWT","md5":"9670319c5a9fc78df28e76894c050b13","sha1":"067bdf680ec565f1b47a44f143b34ede87be87ed","sha256":"e9d292f915d9fc53b96dc8c23ba6c3f0fa53031442af096db24e02938432278a"},"dob":"1988-02-20 02:33:30","registered":"2002-09-16 01:38:01","phone":"(890)-740-2899","cell":"(771)-949-7474","id":{"name":"","value":null},"picture":{"large":"https://randomuser.me/api/portraits/men/85.jpg","medium":"https://randomuser.me/api/portraits/med/men/85.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/men/85.jpg"},"nat":"TR"},{"gender":"female","name":{"title":"ms","first":"inmaculada","last":"ferrer"},"location":{"street":"8498 calle de toledo","city":"jerez de la frontera","state":"canarias","postcode":52588},"email":"inmaculada.ferrer@example.com","login":{"username":"blackelephant752","password":"555666","salt":"sJpCDfqh","md5":"449b2313ffdaba9c4d298f2454deb206","sha1":"a55d571bc4031b8cb22ca160094c76d80c9ff666","sha256":"ab3ad1fb69bc4b341f5a0f7bcabe04531191685136ebe997c17f897d76ef98f7"},"dob":"1967-06-28 19:02:19","registered":"2007-04-30 04:25:16","phone":"910-806-867","cell":"649-698-744","id":{"name":"DNI","value":"17798768-C"},"picture":{"large":"https://randomuser.me/api/portraits/women/45.jpg","medium":"https://randomuser.me/api/portraits/med/women/45.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/women/45.jpg"},"nat":"ES"},{"gender":"female","name":{"title":"mrs","first":"amanda","last":"stephens"},"location":{"street":"3462 rookery road","city":"clonakilty","state":"galway","postcode":96415},"email":"amanda.stephens@example.com","login":{"username":"reddog540","password":"loco","salt":"VjKdBM9A","md5":"89f865efc65180ffa4cb67bd8b8630c8","sha1":"296bf4cd540f24fc18a0783f8b36a8189223f685","sha256":"82580104ce57400b49c05f390a285b529dfeadd2651a9f5baf21729e42a96469"},"dob":"1987-11-21 16:28:36","registered":"2004-03-19 20:48:25","phone":"021-076-6123","cell":"081-380-6685","id":{"name":"PPS","value":"4892579T"},"picture":{"large":"https://randomuser.me/api/portraits/women/82.jpg","medium":"https://randomuser.me/api/portraits/med/women/82.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/women/82.jpg"},"nat":"IE"},{"gender":"male","name":{"title":"mr","first":"lorenzo","last":"duran"},"location":{"street":"6045 calle del arenal","city":"elche","state":"aragón","postcode":87908},"email":"lorenzo.duran@example.com","login":{"username":"blackleopard224","password":"zang","salt":"gmkcYdMo","md5":"4aa5ad76350c583cae691d8dc1dcd72e","sha1":"fc48182081c0ee7c5be1966eb8f9cca389f12879","sha256":"407b60e1dab959f32a060caf0a56742d61efcc8ed746893de776ba511b314459"},"dob":"1991-07-08 02:06:45","registered":"2005-11-05 22:21:30","phone":"913-481-896","cell":"675-039-463","id":{"name":"DNI","value":"98100660-X"},"picture":{"large":"https://randomuser.me/api/portraits/men/62.jpg","medium":"https://randomuser.me/api/portraits/med/men/62.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/men/62.jpg"},"nat":"ES"},{"gender":"female","name":{"title":"mrs","first":"andrea","last":"sørensen"},"location":{"street":"3952 elmelunden","city":"horsens","state":"hovedstaden","postcode":24832},"email":"andrea.sørensen@example.com","login":{"username":"tinyduck997","password":"chinese","salt":"rKovAzp9","md5":"ea6fed794299f76c9508c76ace4ad947","sha1":"164a226a42026f1939dce2cbe9d52cdd258b0893","sha256":"2221d0b49421f538b3b0f75730112fe4daaa8a351aecdcdf7372f9030d8eacc9"},"dob":"1975-11-14 05:20:45","registered":"2003-06-26 15:01:07","phone":"79623780","cell":"02050493","id":{"name":"CPR","value":"690591-9114"},"picture":{"large":"https://randomuser.me/api/portraits/women/63.jpg","medium":"https://randomuser.me/api/portraits/med/women/63.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/women/63.jpg"},"nat":"DK"},{"gender":"female","name":{"title":"mrs","first":"sophia","last":"holmes"},"location":{"street":"3683 the avenue","city":"peterborough","state":"cheshire","postcode":"V57 7GY"},"email":"sophia.holmes@example.com","login":{"username":"bluecat505","password":"angelus","salt":"X6MLeraz","md5":"3c531b856201ff89fba3a2f055c34231","sha1":"3f61d702dba050a3c3b131d0ac5c114e8e4b0f23","sha256":"6121193cdc8b7a3d02c90c4d09a25e24d73f2f0a7bdc3cbd8dec19eb583a0bcb"},"dob":"1972-02-16 04:24:42","registered":"2009-02-09 11:38:44","phone":"017684 57229","cell":"0797-465-562","id":{"name":"NINO","value":"LA 76 78 66 R"},"picture":{"large":"https://randomuser.me/api/portraits/women/19.jpg","medium":"https://randomuser.me/api/portraits/med/women/19.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/women/19.jpg"},"nat":"GB"},{"gender":"female","name":{"title":"ms","first":"ceylan","last":"tokatlıoğlu"},"location":{"street":"6069 anafartalar cd","city":"ardahan","state":"bayburt","postcode":20162},"email":"ceylan.tokatlıoğlu@example.com","login":{"username":"heavyfrog636","password":"tiny","salt":"t6FRweLh","md5":"25063bbe47a2dbc9e602344489600922","sha1":"5ab27dfe1b47f2ac99c7ca7c8402ab2099202e44","sha256":"a2c0887344d157d78c259bbe59876fa00088b925080fad315fda7bb2e8698b55"},"dob":"1993-01-14 17:35:17","registered":"2006-10-26 09:20:44","phone":"(319)-519-3516","cell":"(020)-691-7137","id":{"name":"","value":null},"picture":{"large":"https://randomuser.me/api/portraits/women/61.jpg","medium":"https://randomuser.me/api/portraits/med/women/61.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/women/61.jpg"},"nat":"TR"},{"gender":"female","name":{"title":"mrs","first":"rebecca","last":"hughes"},"location":{"street":"4150 king street","city":"swansea","state":"fife","postcode":"M93 6SH"},"email":"rebecca.hughes@example.com","login":{"username":"heavylion714","password":"951753","salt":"vEowfXgE","md5":"cc99887e8d37a019ffdc285fdb42439b","sha1":"2e2e0b1ff5ed87907dc09e983f2270b6cec9d16d","sha256":"f60c3d6cf68626b2125fc5c7c0a6536a12f871a8838559c863e7f2cbff5a134f"},"dob":"1982-12-27 04:17:53","registered":"2013-02-18 03:20:30","phone":"015394 48946","cell":"0731-079-058","id":{"name":"NINO","value":"YN 45 22 80 L"},"picture":{"large":"https://randomuser.me/api/portraits/women/25.jpg","medium":"https://randomuser.me/api/portraits/med/women/25.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/women/25.jpg"},"nat":"GB"},{"gender":"male","name":{"title":"mr","first":"storm","last":"rasmussen"},"location":{"street":"7339 lindeparken","city":"﻿aaborg øst","state":"midtjylland","postcode":12570},"email":"storm.rasmussen@example.com","login":{"username":"goldenmeercat603","password":"enter1","salt":"n3kZK537","md5":"51ffb7f0f6f9523135499abc7484c3a1","sha1":"70e168f03d80db2630b65728ca34f30ef4d5fcfb","sha256":"5b6866e3318f693f7a88ca2ab7dc6a7a16555927c4e6db211479041807e9557e"},"dob":"1958-06-26 21:56:29","registered":"2010-06-27 03:51:11","phone":"47826475","cell":"73843779","id":{"name":"CPR","value":"120134-4042"},"picture":{"large":"https://randomuser.me/api/portraits/men/22.jpg","medium":"https://randomuser.me/api/portraits/med/men/22.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/men/22.jpg"},"nat":"DK"},{"gender":"male","name":{"title":"mr","first":"طاها","last":"نكو نظر"},"location":{"street":"2429 ایران","city":"قرچک","state":"مازندران","postcode":76666},"email":"طاها.نكونظر@example.com","login":{"username":"redelephant657","password":"ghetto","salt":"tmQBQReZ","md5":"f05189418b7b44a1c2c9d7697f0a08ca","sha1":"d4abbb5250cac5a1795bb7077edeb87e99095cd6","sha256":"9011b745c9f2c3815b562666e0b56cc3a1ca943f60a3f7093a5842f8a7baca04"},"dob":"1973-06-02 05:50:57","registered":"2004-05-22 08:33:01","phone":"085-40318625","cell":"0955-541-1634","id":{"name":"","value":null},"picture":{"large":"https://randomuser.me/api/portraits/men/24.jpg","medium":"https://randomuser.me/api/portraits/med/men/24.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/men/24.jpg"},"nat":"IR"},{"gender":"male","name":{"title":"mr","first":"alex","last":"walker"},"location":{"street":"2603 st aubyn street","city":"wellington","state":"southland","postcode":31937},"email":"alex.walker@example.com","login":{"username":"silverpeacock662","password":"hercules","salt":"gviKDbfJ","md5":"2471c1c82f7f03a189c40d00abae7b51","sha1":"59b23889e44b41c3e0ea8a6207dac5f3afdc5522","sha256":"477334dcf81e79f97a731c4bd5942d7a9b8d5afd1aad6438aa68869fcba82711"},"dob":"1984-08-27 06:01:15","registered":"2013-06-25 08:23:31","phone":"(091)-974-2700","cell":"(462)-844-0546","id":{"name":"","value":null},"picture":{"large":"https://randomuser.me/api/portraits/men/82.jpg","medium":"https://randomuser.me/api/portraits/med/men/82.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/men/82.jpg"},"nat":"NZ"},{"gender":"male","name":{"title":"mr","first":"logan","last":"patel"},"location":{"street":"6344 pierre ave","city":"minto","state":"nunavut","postcode":67783},"email":"logan.patel@example.com","login":{"username":"goldenrabbit946","password":"elaine","salt":"To0mWyCF","md5":"4561081b97588154aa145142eaa6877a","sha1":"e4b4772e92adb3b52a5a203050755f3ffaab0004","sha256":"19d2de034a2edf0cb3e30e7c81e764934156f28efd8b02a0177c877cadabe753"},"dob":"1964-09-06 17:39:39","registered":"2006-05-02 23:07:45","phone":"482-651-5338","cell":"938-489-7001","id":{"name":"","value":null},"picture":{"large":"https://randomuser.me/api/portraits/men/88.jpg","medium":"https://randomuser.me/api/portraits/med/men/88.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/men/88.jpg"},"nat":"CA"}],"info":{"seed":"8488a559f0174e50","results":12,"page":1,"version":"1.1"}});
    }


});

// set up logging
const options = {
    ops: {
        interval: 100000,
    },
    reporters: {
        consoleReporters: [
            { module: 'good-console' },
            'stdout',
        ],
    },
};

server.register({
    register: good,
    options,
}, (err) => {
    if (err) return console.error(err);
    
    // Start the server
    server.start((err) => {
        if (err) throw err;
        console.log(`Server running at: ${server.info.uri}`);
    });
});
